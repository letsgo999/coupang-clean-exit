<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¿ íŒ¡ ì™„ì „ íƒˆí‡´ ê°€ì´ë“œ (ìµœì¢… ìˆ˜ì •íŒ)</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Noto Sans KR', sans-serif; }
    
    /* ì´ë¯¸ì§€ í¬ë¡­ ìœ í‹¸ë¦¬í‹° */
    .crop-container { width: 100%; height: 300px; overflow: hidden; position: relative; border-radius: 0.75rem; border: 1px solid #e5e7eb; background: #f3f4f6; }
    .crop-image { width: 100%; object-fit: cover; transition: object-position 0.5s ease-in-out; }
    
    /* ë‹¨ê³„ë³„ ì´ë¯¸ì§€ ìœ„ì¹˜ (ê¸´ ìŠ¤í¬ë¦°ìƒ· ê°€ì •) */
    .crop-step-1 { object-position: 0% 0%; }
    .crop-step-2 { object-position: 0% 25%; }
    .crop-step-3 { object-position: 0% 50%; }
    .crop-step-4 { object-position: 0% 75%; }
    .crop-step-5 { object-position: 0% 100%; }
  </style>
</head>
<body class="bg-gray-100 text-gray-800">

<div id="root"></div>

<script type="text/babel">
  const { useState, useEffect } = React;

  // ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸
  const Icons = {
    Shield: () => <svg className="w-12 h-12 text-red-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>,
    Monitor: ({ isActive }) => <svg className={`w-5 h-5 mr-2 ${isActive ? 'text-white' : 'text-gray-600'}`} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>,
    Mobile: ({ isActive }) => <svg className={`w-5 h-5 mr-2 ${isActive ? 'text-white' : 'text-gray-600'}`} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>,
    RightArrow: () => <svg className="w-5 h-5 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 5l7 7-7 7"></path></svg>,
    SmallTriangle: () => <svg className="w-3 h-3 text-gray-400 mx-1" fill="currentColor" viewBox="0 0 20 20"><path fillRule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clipRule="evenodd" /></svg>
  };

  // ê°€ì´ë“œ ë°ì´í„°
  const guideData = [
    {
      id: 1,
      title: "1. ë‚¨ì€ ì£¼ë¬¸/ë°˜í’ˆ í™•ì¸",
      desc: "ì§„í–‰ ì¤‘ì¸ ì£¼ë¬¸ì´ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ íƒˆí‡´ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. 'ë§ˆì´ì¿ íŒ¡'ì—ì„œ ëª¨ë“  ì£¼ë¬¸ì´ êµ¬ë§¤í™•ì •/í™˜ë¶ˆì™„ë£Œ ìƒíƒœì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.",
      cropClass: "crop-step-1", 
      actionLabel: "ì£¼ë¬¸ ë‚´ì—­ ì •ë¦¬ ì™„ë£Œ"
    },
    {
      id: 2,
      title: "2. ì™€ìš° ë©¤ë²„ì‹­ í•´ì§€",
      desc: "ë©¤ë²„ì‹­ ì´ìš© ì¤‘ì—ëŠ” íƒˆí‡´ ë²„íŠ¼ì´ ëˆŒë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤. 'ë§ˆì´ì¿ íŒ¡ > ì™€ìš° ë©¤ë²„ì‹­'ì—ì„œ í•´ì§€í•˜ì„¸ìš”. ë°©ì–´ ë¬¸êµ¬ê°€ ë‚˜ì™€ë„ ëê¹Œì§€ í•´ì§€ë¥¼ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤.",
      cropClass: "crop-step-2", 
      actionLabel: "ë©¤ë²„ì‹­ í•´ì§€ ì™„ë£Œ"
    },
    {
      id: 3,
      title: "3. ì¿ í˜ì´ & ê²°ì œìˆ˜ë‹¨ ì‚­ì œ",
      desc: "ì¿ í˜ì´ ì”ì•¡ì„ 0ì›ìœ¼ë¡œ ë§Œë“¤ê³ , ë“±ë¡ëœ ì¹´ë“œ/ê³„ì¢Œ ì •ë³´ë¥¼ ëª¨ë‘ ì‚­ì œí•´ì£¼ì„¸ìš”. ê°œì¸ì •ë³´ë¥¼ ë‚¨ê¸°ì§€ ë§™ì‹œë‹¤.",
      cropClass: "crop-step-3", 
      actionLabel: "ëˆ/ì¹´ë“œ ì •ë³´ ì‚­ì œ ì™„ë£Œ"
    },
    {
      id: 4,
      title: "4. PC ë²„ì „ìœ¼ë¡œ ì „í™˜",
      desc: "ëª¨ë°”ì¼ ì•±ì—ëŠ” íƒˆí‡´ ë©”ë‰´ê°€ ìˆ¨ê²¨ì ¸ ìˆìŠµë‹ˆë‹¤. ì•± ì„¤ì • í•˜ë‹¨ì˜ 'PC ë²„ì „ìœ¼ë¡œ ì´ë™' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.",
      cropClass: "crop-step-4", 
      actionLabel: "PC í™”ë©´ ì§„ì… ì™„ë£Œ"
    },
    {
      id: 5,
      title: "5. ìµœì¢… íƒˆí‡´ ìŠ¹ì¸",
      desc: "PC í™”ë©´ì˜ 'ë§ˆì´ì¿ íŒ¡ > íšŒì›ì •ë³´ ìˆ˜ì •' ë©”ë‰´ ë§¨ ì•„ë˜ 'íšŒì› íƒˆí‡´' ë²„íŠ¼ì„ ì°¾ì•„ í´ë¦­í•˜ë©´ ì™„ë£Œë©ë‹ˆë‹¤.",
      cropClass: "crop-step-5", 
      actionLabel: "íƒˆí‡´ ì‹ ì²­ ì™„ë£Œ!"
    }
  ];

  // ë©”ì¸ App ì»´í¬ë„ŒíŠ¸
  function App() {
    const [view, setView] = useState('intro'); // 'intro', 'guide', 'success'
    const [mode, setMode] = useState('mobile'); // 'pc', 'mobile'
    const [step, setStep] = useState(0);

    // 1. ì¸íŠ¸ë¡œ -> ê°€ì´ë“œ ì „í™˜
    const startGuide = (selectedMode) => {
      setMode(selectedMode);
      setView('guide');
      setStep(0);
      
      if (selectedMode === 'pc') {
        setTimeout(openCoupangWindow, 500); // ê°€ì´ë“œ í™”ë©´ ë Œë”ë§ í›„ íŒì—…
      }
    };

    // 2. íƒ­ì—ì„œ ëª¨ë“œ ë³€ê²½ ì‹œ
    const switchMode = (newMode) => {
      setMode(newMode);
      setStep(0);
      if (newMode === 'pc') {
        openCoupangWindow();
      }
    };

    // 3. PC íŒì—… ì—´ê¸° ë¡œì§ (ìš°ì¸¡ ì •ë ¬)
    const openCoupangWindow = () => {
      const popupWidth = 500;
      const popupHeight = window.screen.availHeight;
      // í™”ë©´ ì „ì²´ ë„ˆë¹„ì—ì„œ íŒì—… ë„ˆë¹„ë§Œí¼ ëº€ ìœ„ì¹˜ê°€ ì™¼ìª½ ì‹œì‘ì  (ì¦‰, ì˜¤ë¥¸ìª½ ë)
      const leftPos = window.screen.width - popupWidth; 
      
      const coupangWindow = window.open(
        'https://login.coupang.com/login/login.pang', 
        'coupangLogin', 
        `width=${popupWidth},height=${popupHeight},left=${leftPos},top=0,resizable=yes,scrollbars=yes`
      );

      if (!coupangWindow) {
        alert("íŒì—…ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ ìš°ì¸¡ì˜ íŒì—… ì°¨ë‹¨ ì•„ì´ì½˜ì„ ëˆŒëŸ¬ í—ˆìš©í•´ì£¼ì„¸ìš”.");
      }
    };

    const handleNext = () => {
      if (step < guideData.length - 1) {
        setStep(step + 1);
      } else {
        setView('success');
      }
    };

    // í™”ë©´ ë Œë”ë§ ë¶„ê¸°
    if (view === 'intro') {
      return <IntroScreen onStart={startGuide} />;
    }
    if (view === 'success') {
      return <SuccessScreen />;
    }

    return (
      <GuideScreen 
        mode={mode} 
        step={step} 
        setStep={setStep} 
        switchMode={switchMode} 
        onNext={handleNext} 
      />
    );
  }

  // [í™”ë©´ 1] ì¸íŠ¸ë¡œ í™”ë©´
  function IntroScreen({ onStart }) {
    return (
      <div className="min-h-screen flex flex-col items-center justify-center p-6 bg-white max-w-2xl mx-auto text-center">
        <Icons.Shield />
        <h1 className="text-3xl font-bold text-gray-900 mb-2">ì¿ íŒ¡ ì™„ì „ íƒˆí‡´ ê°€ì´ë“œ</h1>
        <p className="text-gray-500 mb-8">ë³µì¡í•œ í•´ì§€ ì ˆì°¨, 5ë‹¨ê³„ë¡œ ì‰½ê³  ê¹”ë”í•˜ê²Œ.</p>
        
        <div className="bg-red-50 border border-red-200 p-6 rounded-xl mb-10 shadow-sm max-w-lg w-full">
          <h3 className="text-red-600 font-bold mb-2 flex items-center justify-center">
            <svg className="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            ì•± ê°œë°œ ì·¨ì§€ ë° ì•ˆë‚´
          </h3>
          <p className="text-sm text-gray-700 leading-relaxed">
            ì´ ì•±ì€ ìµœê·¼ <strong>ê³ ê° ì •ë³´ ëŒ€ê·œëª¨ ìœ ì¶œ ì´ìŠˆ</strong>ì— ë”°ë¼, 
            ì¿ íŒ¡ ê³„ì •ì„ ì™„ì „íˆ ì‚­ì œ(íƒˆí‡´)í•˜ê³ ì í•˜ëŠ” ë¶„ë“¤ì„ ë•ê¸° ìœ„í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.<br/><br/>
            ë³µì¡í•˜ê²Œ ìˆ¨ê²¨ì§„ íƒˆí‡´ ë©”ë‰´ë¥¼ ì°¾ê¸° í˜ë“œì…¨ë‚˜ìš”?<br/>
            ì´ ê°€ì´ë“œë¥¼ ë”°ë¼ í•˜ì‹œë©´ <strong>100% í´ë¦° íƒˆí‡´</strong>ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
          </p>
        </div>

        <div className="w-full max-w-md space-y-4">
          <button 
            onClick={() => onStart('pc')}
            className="w-full p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl shadow-lg transition-all font-bold text-lg flex justify-center items-center"
          >
            <span className="mr-2">ğŸ–¥ï¸</span> PCë¡œ íƒˆí‡´í•˜ê¸° (ì¶”ì²œ)
          </button>
          <button 
            onClick={() => onStart('mobile')}
            className="w-full p-4 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-xl border border-gray-300 transition-all font-bold text-lg flex justify-center items-center"
          >
             <span className="mr-2">ğŸ“±</span> ëª¨ë°”ì¼ë¡œ íƒˆí‡´í•˜ê¸°
          </button>
        </div>
      </div>
    );
  }

  // [í™”ë©´ 2] ë©”ì¸ ê°€ì´ë“œ í™”ë©´
  function GuideScreen({ mode, step, setStep, switchMode, onNext }) {
    // PC ëª¨ë“œì¼ ë•ŒëŠ”
